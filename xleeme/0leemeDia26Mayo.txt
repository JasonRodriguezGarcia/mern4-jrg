EMPRESA DONOSTI FRAME

MongoDB basado en colecciones

SQL         MongoDB (no hay esquema ->schemaless)
----------  -------------------------------------
base datos  base de datos
tabla       coleccion
registro    documento

buscar en google mongodb 
seleccionar mongodb atlas

ENTRO CON CUENTA GOOGLE MÍA DE EMPLEO
ACTIVAR aceptar
Submit
Rellenar motivos y preferencias
GETTING TO KNOW YOU
GETTING TO KNOW YOUR PROYECT
Finish

Deploy your cluster
    Free (512MB Storage, Ram Shared, vCPU shared)
Configurations
    name Cluster0jrg
Provider 
    AWS
Region
    Paris
Quick Setup
    Dejar solo Activado Preload sample dataset (para tener bases de datos de prueba)

Create Deployment
Pasaremos a la ventana Connect to Cluster0jrg
current ip address 0.0.0.0
    Username    mongodb
    Password    mongodb
Close

A la izquierda Database 
    Cluster 
    Aparecerá nuestro Cluster0jrg, si pinchamos en el entramos vemos varios detalles
        Collections - muestra nuestras bases de datos, tablas (colecciones) que contendran registros(documentos)
filter (movies)
    {"year": 1983}

en collections
    crear Database
        clase
    collection name
        productos
    addicional preferentes
        no tocar
    create
    
https://github.com/chekulhan/Desarrollo-Web/blob/main/UF1845-Acceso-a-Datos/mongodb/01-configuracion.md

[
  { "prodId": 100, "nombreProducto": "Camiseta", "precio": 20.99, "cantidad": 125 },
  { "prodId": 101, "nombreProducto": "Pantalón", "precio": 10.50, "cantidad": 234 },
  { "prodId": 102, "nombreProducto": "Chaqueta", "precio": 15.75, "cantidad": 432 },
  { "prodId": 103, "nombreProducto": "Zapatos", "precio": 17.30, "cantidad": 320 }
]

Insertamos en nuestra coleccion productos los datos de arriba
A la derecha INSERT DOCUMENT
    Podremos insertar nuestros datos en 2 formatos que aparecen en VIEW
    Pinchar en {}
    Entre {} podríamos insertar nuestros datos, PERO ESTE CASO borramos los {}
Insert (abajo derecha)
Volveremos otra vez a la pantalla de bases de datos y colecciones, pero ahora en productos ya tenemos insertados nuestros datos

Podemos usar la línea Filter para manejar datos
En Filter podremos poner
{"precio": {$gt:10}}

filter
{"deptno": 2}
project
{"loc": 1, "dname": 1}  --1 activa visualizar el campo nombre y dname, 0 -desactiva

filter
{"emps.empNo": 2}
{"emps.name": "Luis"}

indexes
create index
{
  "loc": 1
}

cluster
connect
mongo db

copiar codigo to connect to your mongodb
mongodb+srv://mongodb:<db_password>@nzcluster-01.ox3d0eu.mongodb.net/

is a VSC
extensiones buscar mongodb for vs code
connect se habre la barra comandos VSC
pegamos (mongodb es password)
mongodb+srv://mongodb:mongodb@nzcluster-01.ox3d0eu.mongodb.net/

se abre un playground
darle al PLAY DE ARRIBA A LA DERECHA

crea un entorno en plan herramientas en postgress
use('scott');
db.dept.find({'deptNo': 1});

marcar solo 2 lineas y PLAY
use('scott');
// db.dept.find({'deptNo': 2});
db.dept.find({'emps.name': "Luis"})


use('scott');
// db.dept.find({'deptNo': 2});
db.dept.find({'emps.name': "Luis"})

db.dept.findOne({"_id": objectId('68263948689')})

use('clase');
db.getCollection("productos").find(
    {"cantidad": {$gt: 9}},
    {"_id": 0, "nombreProducto": 1, "cantidad": 1}
);

use('clase');
db.getCollection("productos").findOne(
    {"cantidad": {$gt: 1}}
);


use('clase');
db.productos.insertOne({
    prodId: 656,
    nombreProducto: 'VSCode',
    precio: 110,
    cantidad: 50
});

use('clase');
db.getCollection("productos").findOne(
    {"nombreProducto": "VSCode"}
);

IR A playground-1.mongodb.js hay ejercicios

VAMOS A NODEJS
connect en ATLAS clould.mongodb.com
drivers
driver node.js
npm install mongodb
crear index-mongodb.js
pegar conexion de mongodb
ejecutar 
node index-mongodb.js
